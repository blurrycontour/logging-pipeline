[SERVICE]
    # log_level debug
    Parsers_File /fluent-bit/configs/config-ep/parsers.conf

[INPUT]
    name tail
    # parser simple
    path /var/logs/HILTest/*.log
    db /fluent-bit/configs/config-ep/tail.db
    read_from_head on
    refresh_interval 5
    tag log.folder

[FILTER]
    name grep
    match log.folder
    regex log [Ee][Rr][Rr][Oo][Rr]|Traceback|WARNING

[FILTER]
    name parser
    match log.folder
    parser python-logging
    parser python-uncaught
    key_name log

[FILTER]
    name modify
    match log.folder
    rename log msg
    add type unknown
    add file unknown

[OUTPUT]
    name opensearch
    match log.folder
    host opensearch-node-1
    port 9200
    index ep-logs
    type ep-logs
    http_User admin
    http_Passwd admin
    tls On
    tls.verify Off
    suppress_type_name On
    buffer_size 16KB
    trace_error on

# [OUTPUT]
#     Name stdout
#     Match log.folder
